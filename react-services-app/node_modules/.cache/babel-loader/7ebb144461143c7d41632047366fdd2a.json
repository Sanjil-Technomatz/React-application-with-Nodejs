{"ast":null,"code":"import store from \"./store\";\nimport { singleData } from \"./dataReducer\";\nimport { serviceFailed } from \"./dataReducer\";\nimport { serviceData } from \"./dataReducer\";\nexport default function postData(data) {\n  fetch(\"http://localhost:3001/users\", {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  }).then(res => res.json());\n}\nexport function login(data) {\n  fetch(\"http://localhost:3001/auth/login\", {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  }).then(res => res.json()).then(result => localStorage.setItem(\"token\", result.token));\n}\nexport function deleteUserData(id) {\n  fetch(`http://localhost:3001/users/${id}`, {\n    method: \"DELETE\"\n  });\n}\nexport function updateData(data, id) {\n  fetch(`http://localhost:3001/users/${id}`, {\n    method: \"PUT\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  }).then(res => res.json());\n}\nexport function fetchSingleUserData() {\n  fetch(\"http://localhost:3001/users\").then(res => res.json()).then(res => {\n    store.dispatch(singleData(res.users[res.users.length - 1]));\n  }).catch(() => store.dispatch(serviceFailed()));\n}\nexport function fetchAllUserData() {\n  fetch(`http://localhost:3001/users`).then(res => res.json()).then(res => {\n    store.dispatch(serviceData(res.users));\n  }).catch(() => store.dispatch(serviceFailed()));\n}\nexport function fetchFilterData(service) {\n  fetch(`http://localhost:3001/users/?role=${service}`).then(res => res.json()).then(res => {\n    store.dispatch(serviceData(res.users));\n  }).catch(() => store.dispatch(serviceFailed()));\n}","map":{"version":3,"names":["store","singleData","serviceFailed","serviceData","postData","data","fetch","method","headers","Accept","body","JSON","stringify","then","res","json","login","result","localStorage","setItem","token","deleteUserData","id","updateData","fetchSingleUserData","dispatch","users","length","catch","fetchAllUserData","fetchFilterData","service"],"sources":["/home/developer/react-services-app/src/apiServices.js"],"sourcesContent":["import store from \"./store\";\nimport { singleData } from \"./dataReducer\";\nimport { serviceFailed } from \"./dataReducer\";\nimport { serviceData } from \"./dataReducer\";\n\nexport default function postData(data) {\n  fetch(\"http://localhost:3001/users\", {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  }).then((res) => res.json());\n}\n\nexport function login(data) {\n  fetch(\"http://localhost:3001/auth/login\", {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  })\n    .then((res) => res.json())\n    .then((result) => localStorage.setItem(\"token\", result.token));\n}\n\nexport function deleteUserData(id) {\n  fetch(`http://localhost:3001/users/${id}`, {\n    method: \"DELETE\",\n  });\n}\n\nexport function updateData(data, id) {\n  fetch(`http://localhost:3001/users/${id}`, {\n    method: \"PUT\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  }).then((res) => res.json());\n}\n\nexport function fetchSingleUserData() {\n  fetch(\"http://localhost:3001/users\")\n    .then((res) => res.json())\n    .then((res) => {\n      store.dispatch(singleData(res.users[res.users.length - 1]));\n    })\n    .catch(() => store.dispatch(serviceFailed()));\n}\n\nexport function fetchAllUserData() {\n  fetch(`http://localhost:3001/users`)\n    .then((res) => res.json())\n    .then((res) => {\n      store.dispatch(serviceData(res.users));\n    })\n    .catch(() => store.dispatch(serviceFailed()));\n}\n\nexport function fetchFilterData(service) {\n  fetch(`http://localhost:3001/users/?role=${service}`)\n    .then((res) => res.json())\n    .then((res) => {\n      store.dispatch(serviceData(res.users));\n    })\n    .catch(() => store.dispatch(serviceFailed()));\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}